/*
 * @lc app=leetcode id=36 lang=javascript
 *
 * [36] Valid Sudoku
 */

// @lc code=start
/**
 * @param {character[][]} board
 * @return {boolean}
 */
var checkNumberValid = function(len) {
  const rect = len / 3
  const rows = {}
  const colums = {}
  const rects = {}
  for (let i = 0; i < 9; i++) {
    rows[i] = []
    colums[i] = []
    rects[i + 1] = []
  }

  function getRectIndex(i, j) {
    // 0, 0  1  
    // 0, 3  2
    // 0, 6  3
    // 3, 0, 4
    // 3, 3  5
    // 3, 6  6
    // 6, 0  7
    // 6, 3  8
    // 6, 6  9
    return Math.floor(i / 3) * 3 + Math.floor(j / 3) + 1
  }

  return function(i, j, val) {
    const rectIndex = getRectIndex(i, j)
    if (rows[i].includes(val)) {
      return false
    } else {
      rows[i].push(val)
    }
    if (colums[j].includes(val)) {
      return false
    } else {
      colums[j].push(val)
    }
    if (rects[rectIndex].includes(val)) {
      return false
    } else {
      rects[rectIndex].push(val)
    }
    return true
  }
}

var isValidSudoku = function(board) {
  const checkValid = checkNumberValid(9)
    for (let i = 0; i < 9; i++) {
      for (let j = 0; j < 9; j++) {
        const val = board[i][j]
        if (val !== '.') {
          const isValid = checkValid(i, j, val)
          if (!isValid) {
            return false
          }
        }
      }
    }
    return true
};
// @lc code=end

var data1 = [
  ["5","3",".",".","7",".",".",".","."],
  ["6",".",".","1","9","5",".",".","."],
  [".","9","8",".",".",".",".","6","."],
  ["8",".",".",".","6",".",".",".","3"],
  ["4",".",".","8",".","3",".",".","1"],
  ["7",".",".",".","2",".",".",".","6"],
  [".","6",".",".",".",".","2","8","."],
  [".",".",".","4","1","9",".",".","5"],
  [".",".",".",".","8",".",".","7","9"]
]
console.log(isValidSudoku(data1))

var data2 = [
  ["8","3",".",".","7",".",".",".","."],
  ["6",".",".","1","9","5",".",".","."],
  [".","9","8",".",".",".",".","6","."],
  ["8",".",".",".","6",".",".",".","3"],
  ["4",".",".","8",".","3",".",".","1"],
  ["7",".",".",".","2",".",".",".","6"],
  [".","6",".",".",".",".","2","8","."],
  [".",".",".","4","1","9",".",".","5"],
  [".",".",".",".","8",".",".","7","9"]
]
console.log(isValidSudoku(data2))


/**

Input:
[
  ["5","3",".",".","7",".",".",".","."],
  ["6",".",".","1","9","5",".",".","."],
  [".","9","8",".",".",".",".","6","."],
  ["8",".",".",".","6",".",".",".","3"],
  ["4",".",".","8",".","3",".",".","1"],
  ["7",".",".",".","2",".",".",".","6"],
  [".","6",".",".",".",".","2","8","."],
  [".",".",".","4","1","9",".",".","5"],
  [".",".",".",".","8",".",".","7","9"]
]
Output: true

Input:
[
  ["8","3",".",".","7",".",".",".","."],
  ["6",".",".","1","9","5",".",".","."],
  [".","9","8",".",".",".",".","6","."],
  ["8",".",".",".","6",".",".",".","3"],
  ["4",".",".","8",".","3",".",".","1"],
  ["7",".",".",".","2",".",".",".","6"],
  [".","6",".",".",".",".","2","8","."],
  [".",".",".","4","1","9",".",".","5"],
  [".",".",".",".","8",".",".","7","9"]
]
Output: false

 */